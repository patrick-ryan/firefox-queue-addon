<!DOCTYPE html>
<html>
<head>
    <title>Window Manager</title>
    <link rel="stylesheet" href="./wmPanel.css">
    <!-- <link rel="stylesheet" href="./font-awesome-4.2.0/css/font-awesome.min.css"> -->
</head>
<!-- <body style="width: 400px;"> -->
<body>
    <div class="heading">
        <div class="subtitle">Window Manager</div>
        <a id="save" class="save" href="">Save</a>
        <a id="saveExit" class="saveExit" href="">Save + Exit</a>
    </div>
    <hr>
    <div id="list" class="list">
        <div class="item">
            <ul class="win">Click me!
                <li>Test</li>
                <li>Test</li>
            </ul>
            <a class="remove" href="">X</a>
        </div>
        <div class="item">
            <ul class="win">Click me!
                <li>Test</li>
                <li>Test</li>
            </ul>
            <a class="remove" href="">X</a>
        </div>

        <!-- window manager stuff -->
    </div>
    <script>
        function hideChildren(parent) {
            for each (var node in parent.childNodes) {
                node.style.display = "none";
            }
        }
        function showChildren(parent) {
            for each (var node in parent.childNodes) {
                node.style.display = "";
            }
        }
        function prepareList() {
            list = document.getElementById("list");
            for each (var item in list.childNodes) {
                var win = item.firstChild;
                win.addEventListener("click", function(event) {
                    event.preventDefault();
                    if (win.classList.contains("expanded")) {
                        hideChildren(win);
                    }
                    else {
                        showChildren(win);
                    }
                    win.classList.toggle("expanded");
                }
                win.classList.add("collapsed");
                hideChildren(win);
            }
        }
        // document.addEventListener("load", function(event) {
        //     prepareList();
        // });
        document.getElementById("list").onload = prepareList;
    </script>
</body>
</html>